<div class="cart_start_container">
  <div class="cart_header">
    <div class="header-left header-left-cart">
      <img src="/images/layout/main_logo.png" alt="cyberCafeLogo" width="140" height="100" />
    </div>
    <div class="header-right">
      <div class="header-right-links cart-header-right-links">
        <a href="/demo/homepage" style="color: red; font-size: 2rem;">Home</a>
        <a href="/signup" class="sign-up-link" style="color: red; font-size: 2rem;">Sign-Up</a>
        <a href="/login" class="log-in-link" style="color: red; font-size: 2rem;">Sign-In</a>
        <a href="/demo/homepage/shop" style="color: red; font-size: 2rem;">Shop</a>
        <a href="/demo/contact-us" style="color: red; font-size: 2rem;">Contact Us</a>
        <a href="/logout" class="logout-link" style="color: red; font-size: 2rem;">Logout</a>
        <a class="user-acount-link" href="/account"><i class="fa fa-user-circle" aria-hidden="true" title="Edit Account" style="color: red; font-size: 2rem;"></i></a>
    <a href="/cart" class="cart-link"><i class="fa fa-shopping-cart" style="color: red; font-size: 2rem;"></i>
          <% if (req.session.cart) { %>
          <span class="badge badge-danger"><%= req.session.cart.totalQty %></span>
          <% } %>
    </a>
          <% if (req.session.cart) { %>
          <span class="badge badge-danger"><%= req.session.cart.totalQty %></span>
          <% } %>
    </a>
    </div>
  </div>
  <div class="cart_header_text">
    <h1>CART</h1>
  </div>
 </div>
</div>

<div class="container">
  <div class="row">
    <h2 class="cart">Cart</h2>
  </div>
  <div class="row">
    <div class="col-lg-8">
      <% if (items == 0 || items.totalQty == 0 ) { -%>

      <p class="emtycart">Sorry, you got no items in your cart</p>
      <a class="emtycart" a href="/demo/homepage/shop">Lets fix that!</a>
      <% } else { -%>
        
      <table class="table table-borderless" >
        <thead class="cartthead">
          <tr>
            <th class="carttd">Item</th>
            <th class="carttd">Quantity</th>
            <th class="carttd">Price</th>
            <th></th>
          </tr>
        </thead class="cartthead">
        <tbody class="carttbody">
          <% Object.keys(items).forEach( function(item) { %>
          <tr>
            <td class="carttd"><%= items[item].product.name %></td>
            <td class="carttd">
              <form action="/update-cart-item" method="post">
                <input type="hidden" name="_csrf" value="<%= _csrf %>" />
                <select name="quantity">
                  <option value="<%= items[item].qty %>" selected>
                    <%= items[item].qty %>
                  </option>
                  <option value="1">1</option>
                  <option value="2">2</option>
                  <option value="3">3</option>
                </select>
                <input
                  type="hidden"
                  name="productId"
                  value="<%= items[item].product.id %>"
                />
                <button type="submit" class="btn">Update</button>
              </form>
            </td>
            <td><%= items[item].product.price * items[item].qty%></td>
            <td><a href="/remove-item/<%= items[item].product.id %>">x</a></td>
          </tr>
          <% }) %>
        </tbody>
      </table>
      <a id="checkoutButton" href="/checkout">checkout</a>
      <% } -%>
    </div>
  </div>
 
</div>
<script>
      let layoutHeaderHome = document.querySelector('.header');
    window.onscroll = function () {
        scrollFunction();
    };
</script> 